<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ground station</title>
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="stylesheet" href="css/lib/leaflet.css">
    <link rel="stylesheet" href="css/style_full.css">
    <script type="importmap">
        {
            "imports": {
                "three": "./js/lib/threejs/three.module.js",
                "three/addons/": "./js/lib/threejs/"
            }
        }
    </script>
</head>

<body>

    <header>
        <!-- Main Header -->
        <div class="d-flex justify-content-between bg-black">
            <!-- Logo + Title -->
            <div class="d-flex flex-wrap align-items-center">
                <img src="img/logo-gaul.svg" alt="Logo GAUL" width="100" height="24" class="ms-2">
                <h1 class="fs-2 text-white">Ground station</h1>
            </div>
            <!-- Options -->
            <nav>
                <!-- Large screen nav -->
                <div class="d-none d-sm-flex align-items-center h-100">
                    <a class="btn btn-link mx-1" href="./simple.html">Simple</a>
                    <button class="btn btn-secondary mx-1" onclick="page.reset_all()">Reset</button>
                    <button class="btn btn-danger btn-pause mx-1" onclick="togglePause()">Pause</button>
                    <button class="btn btn-icon mx-1 p-0">
                        <img src="./img/gear.svg" alt="Settings Icon" height="24" width="24" />
                    </button>
                </div>
                <!-- Small screen nav -->
                <div class="d-flex d-sm-none align-items-center h-100">
                    <button class="btn btn-icon mx-1" onclick="expand()">
                        <img id="expand-btn" src="./img/expand.svg" alt="Expand Icon" height="24" width="24" />
                    </button>
                </div>
            </nav>
        </div>
        <!-- Expanded Header -->
        <div id="expand-menu" class="closed-menu d-flex d-sm-none justify-content-end bg-black">
            <!-- Expanded Options -->
            <div class="d-flex align-items-center h-100 p-1">
                <a class="btn btn-link mx-1" href="./simple.html">Simple</a>
                <button class="btn btn-secondary mx-1" onclick="page.reset_all()">Reset</button>
                <button class="btn btn-danger btn-pause mx-1" onclick="togglePause()">Pause</button>
                <button class="btn btn-icon mx-1 p-0">
                    <img src="./img/gear.svg" alt="Settings Icon" height="24" width="24" />
                </button>
            </div>
        </div>
    </header>

    <main>
        <div class="container-fluid h-100">
            <div class="row h-100">
                <!-- Map component -->
                <div id="map-container" class="col-lg-4 component-container">
                    <div id="map-coords-container" class="value-container">
                        <h5 id="map-text">Pos:</h5>
                        <h5 id="map-coords">0.0000, 0.0000</h5>
                    </div>
                    <div id="map" class="border"></div>
                </div>
                <!-- Map component end -->
                <!-- Altitude, Speed and Acceleration component -->
                <div id="alt-speed-acc-container" class="col-lg-8 component-container double-container">
                    <div class="row g-0 h-100">
                        <div id="alt-speed-acc-value-container" class="col-lg-5 d-flex flex-wrap">
                            <div id="alt-value-container" class="value-container">
                                <h5 id="alt-text">ALT:</h5>
                                <h5 id="alt-value">0.0 m</h5>
                            </div>
                            <div id="speed-value-container" class="value-container">
                                <h5 id="speed-text">SPD:</h5>
                                <h5 id="speed-value">0.0 m/s</h5>
                            </div>
                            <div id="acc-value-container" class="value-container">
                                <h5 id="acc-text">ACC:</h5>
                                <h5 id="acc-value">0.0 m/s²</h5>
                            </div>
                        </div>
                        <div id="chart-container" class="col-lg-7 px-3 h-100">
                            <canvas id="chart"></canvas>
                        </div>
                    </div>
                </div>
                <!-- Altitude, Speed and Acceleration component end -->
                <!-- Checks component -->
                <div id="checks-container" class="col-lg-4 d-flex flex-wrap component-container">
                    <!-- Battery -->
                    <div id="batt-value-container" class="value-container">
                        <h5 id="batt-text">Battery:</h5>
                        <h5 id="batt-state" class="text-danger">ERROR</h5>
                    </div>
                    <!-- GPS -->
                    <div id="gps-value-container" class="value-container">
                        <h5 id="gps-text">GPS Fix:</h5>
                        <h5 id="gps-state" class="text-danger">ERROR</h5>
                    </div>
                    <!-- Igniter -->
                    <div id="igni-value-container" class="value-container">
                        <h5 id="igni-text">Igniter:</h5>
                        <h5 id="igni-state" class="text-danger">ERROR</h5>
                    </div>
                    <!-- Connection status -->
                    <div id="conn-value-container" class="value-container">
                        <h5 id="conn-text">Last fetch:</h5>
                        <h5 id="conn-value">???</h5>
                    </div>
                </div>
                <!-- Checks component end -->
                <!-- Orientation component -->
                <div id="ori-container" class="col-lg-8 component-container double-container">
                    <div class="row g-0 h-100">
                        <div id="ori-value-container" class="col-lg-5 d-flex flex-wrap">
                            <div id="pitch-value-container" class="value-container">
                                <h5 id="pitch-text">Pitch:</h5>
                                <h5 id="pitch-value">0°</h5>
                            </div>
                            <div id="yaw-value-container" class="value-container">
                                <h5 id="yaw-text">Yaw:</h5>
                                <h5 id="yaw-value">0°</h5>
                            </div>
                            <div id="roll-value-container" class="value-container">
                                <h5 id="roll-text">Roll:</h5>
                                <h5 id="roll-value">0°</h5>
                            </div>
                        </div>
                        <div id="ori-view" class="col-lg-7 px-3 d-flex justify-content-center"></div>
                    </div>
                </div>
                <!-- Orientation end -->
                <!-- Temperature/Vibration/Landing force component -->
                <div id="temp-vibr-land-container" class="col-lg-4 d-flex flex-wrap component-container">
                    <div id="temp-amb-value-container" class="value-container">
                        <h5 id="temp-amb-text">Ambient temp.:</h5>
                        <h5 id="temp-amb-value">21.0 °C</h5>
                    </div>
                    <div id="temp-value-container" class="value-container">
                        <h5 id="temp-text">Engine temp.:</h5>
                        <h5 id="temp-value">0.0 °C</h5>
                    </div>
                    <div id="vibr-value-container" class="value-container">
                        <h5 id="vibr-text">Vibrations:</h5>
                        <h5 id="vibr-value">0.0 Hz</h5>
                    </div>
                    <div id="land-value-container" class="value-container">
                        <h5 id="land-text">Land. force:</h5>
                        <h5 id="land-value">0.0 m/s²</h5>
                    </div>
                </div>
                <!-- Temperature/Vibration/Landing force component end -->
                <!-- Console component -->
                <div id="console-container" class="col-lg-8 d-flex flex-column component-container">
                    <h5 class="px-2 mb-2">Console</h5>
                    <div id="console-text" class="border rounded p-2 px-3 overflow-auto"></div>
                </div>
                <!-- Console component end -->
            </div>
        </div>
    </main>

    <script src="js/lib/chart.js"></script>
    <script src="js/lib/leaflet.js"></script>
    <script src="js/lib/socket.io.min.js"></script>
    <script src="js/extra-ui.js"></script>
    <script type="module" src="js/3d.js"></script>
    <script src="js/components.js"></script>
    <script src="js/full.js"></script>

</body>

</html>
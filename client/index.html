<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ground station</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="css/style.css">
    <script type="importmap">
          {
            "imports": {
              "three": "https://unpkg.com/three@0.157.0/build/three.module.js",
              "three/addons/": "https://unpkg.com/three@0.157.0/examples/jsm/"
            }
          }
      </script>
</head>

<body>
    <header>
        <nav id="my-navbar" class="navbar bg-light px-3">
            <h1 class="title">Ground station</h1>
            <button id="reset-btn" class="btn btn-primary" onclick="page.reset_all()">Reset</button>
            <button id="start-btn" class="btn btn-primary" onclick="createSocket()">Start</button>
            <button id="stop-btn" class="btn btn-danger" onclick="removeSocket()">Stop</button>
            <a id="options" class="btn btn-secondary" href="#">Settings</a>
        </nav>
    </header>
    <main>
        <div class="container-fluid h-100">
            <div class="row h-100">
                <!-- Altitude component -->
                <div id="alt-container" class="col-sm-6 col-lg-4 border rounded component-container">
                    <div id="alt-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="map-text">Altitude:</h5>
                        <h5 id="alt-value">0 m</h5>
                    </div>
                    <div id="alt-chart-container">
                        <canvas id="alt-chart"></canvas>
                    </div>
                </div>
                <!-- Altitude component end -->
                <!-- Map component -->
                <div id="map-container" class="col-sm-6 col-lg-4 border rounded component-container">
                    <div id="map-coords-container" class="d-flex justify-content-between value-container">
                        <h5 id="map-text">Pos:</h5>
                        <h5 id="map-coords">0.0000, 0.0000</h5>
                    </div>
                    <div id="map"></div>
                </div>
                <!-- Map component end -->
                <!-- Checks component -->
                <div id="checks-container" class="col-sm-6 col-lg-4 border rounded component-container">
                    <!-- Battery -->
                    <div id="batt-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="batt-text">Battery:</h5>
                        <h5 id="batt-state">ERROR</h5>
                    </div>
                    <!-- Igniter -->
                    <div id="igni-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="igni-text">Igniter:</h5>
                        <h5 id="igni-state">ERROR</h5>
                    </div>
                    <!-- GPS -->
                    <div id="gps-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="gps-text">GPS Fix:</h5>
                        <h5 id="gps-state">ERROR</h5>
                    </div>
                    <!-- Connection status -->
                    <div id="conn-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="conn-text">Last fetch:</h5>
                        <h5 id="conn-value">ERROR</h5>
                    </div>
                </div>
                <!-- Checks component end -->
                <!-- Speed and Acceleration component -->
                <div id="speed-acc-container" class="col-sm-6 col-lg-4 border rounded component-container">
                    <div id="speed-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="speed-text">Speed:</h5>
                        <h5 id="speed-value">0.000 m/s</h5>
                    </div>
                    <div id="acc-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="acc-text">Accel.:</h5>
                        <h5 id="acc-value">0.000 m/s²</h5>
                    </div>
                </div>
                <!-- Speed and Acceleration component end -->
                <!-- Orientation component -->
                <div id="ori-container" class="col-sm-12 col-lg-8 p-2 border rounded component-container">
                    <div class="row g-0">
                        <div id="ori-value-container" class="col-6">
                            <div id="pitch-value-container" class="d-flex justify-content-between value-container">
                                <h5 id="pitch-text">Pitch:</h5>
                                <h5 id="pitch-value">0°</h5>
                            </div>
                            <div id="yaw-value-container" class="d-flex justify-content-between value-container">
                                <h5 id="yaw-text">Yaw:</h5>
                                <h5 id="yaw-value">0°</h5>
                            </div>
                            <div id="roll-value-container" class="d-flex justify-content-between value-container">
                                <h5 id="roll-text">Roll:</h5>
                                <h5 id="roll-value">0°</h5>
                            </div>
                        </div>
                        <div id="3d-view" class="col-6 px-3"></div>
                    </div>
                </div>
                <!-- Orientation end -->
                <!-- Temperature/Vibration/Landing force component -->
                <div id="temp-vibr-land-container" class="col-sm-6 col-lg-4 border rounded component-container">
                    <div id="temp-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="temp-text">Temperature:</h5>
                        <h5 id="temp-value">0.00 °C</h5>
                    </div>
                    <div id="vibr-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="vibr-text">Vibrations:</h5>
                        <h5 id="vibr-value">0.000 Hz</h5>
                    </div>
                    <div id="land-value-container" class="d-flex justify-content-between value-container">
                        <h5 id="land-text">Land. force:</h5>
                        <h5 id="land-value">0.000 m/s²</h5>
                    </div>
                </div>
                <!-- Temperature/Vibration/Landing force component end -->
                <!-- Console component -->
                <div id="console-container" class="col-sm-6 col-lg-8 border rounded component-container">
                    <h5 class="px-2">Console</h5>
                </div>
                <!-- Console component end -->
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="js/components.js"></script>
    <script src="js/main.js"></script>
    <script type="module" src="js/3d.js"></script>
</body>

</html>